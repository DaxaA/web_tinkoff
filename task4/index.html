<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Мое приложение</title>
  <style>
    /* Оформление заголовков */
    .heading {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    /* Оформление формы */
    .form {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }

    input,
    textarea {
      width: 100%;
      padding: 5px;
      margin-bottom: 10px;
    }

    textarea {
      height: 100px;
    }

    button {
      background-color: #4CAF50;
      color: white;
      padding: 8px 16px;
      border: none;
      cursor: pointer;
      font-size: 16px;
      border-radius: 4px;
    }

    button:hover {
      background-color: #45a049;
    }

    /* Оформление контейнера для карточек */
    .card-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }
  </style>
</head>
<body>
<div class="container">
  <h1 class="heading">Мое приложение</h1>

  <h2>Форма создания/редактирования карточки</h2>
  <form class="form" id="card-form">
    <label for="name">Имя:</label>
    <input type="text" id="name" required>

    <label for="description">Описание:</label>
    <textarea id="description" required></textarea>

    <label for="image-url">Ссылка на изображение:</label>
    <input type="url" id="image-url" required>

    <label for="product-code">Код товара:</label>
    <input type="text" id="product-code" required>

    <label for="provider">Поставщик:</label>
    <input type="text" id="provider" required>

    <button type="button" onclick="saveCard()">Сохранить</button>
  </form>

  <h2>Карточки</h2>
  <div class="card-container" id="card-container">
    <!-- Карточки будут динамически добавлены и отображены здесь -->
  </div>

  <script>
    // Хранилище карточек
    let cards = [];

    // Функция для сохранения карточки
    function saveCard() {
      const name = document.getElementById('name').value;
      const description = document.getElementById('description').value;
      const imageUrl = document.getElementById('image-url').value;
      const productCode = document.getElementById('product-code').value;
      const provider = document.getElementById('provider').value;

      // Проверяем, что все поля заполнены
      if (name && description && imageUrl && productCode && provider) {
        const card = {
          name,
          description,
          imageUrl,
          productCode,
          provider
        };

        cards.push(card);
        renderCards();
        clearForm();

        // Обновляем список карточек (если требуется)

        alert("Карточка успешно сохранена!");
      } else {
        // Если не все поля заполнены, выводим сообщение об ошибке
        alert("Пожалуйста, заполните все поля формы.");
      }
    }

    // Функция для отображения карточек
    function renderCards() {
      const cardContainer = document.getElementById('card-container');
      cardContainer.innerHTML = '';

      cards.forEach((card, index) => {
        const cardEl = document.createElement('div');
        cardEl.classList.add('card');
        cardEl.innerHTML = `
            <h3>${card.name}</h3>
            <p>${card.description}</p>
            <img src="${card.imageUrl}" alt="${card.name}">
            <p>Код товара: ${card.productCode}</p>
            <p>Поставщик: ${card.provider}</p>
            <button onclick="editCard(${index})">Редактировать</button>
            <button onclick="deleteCard(${index})">Удалить</button>
          `;

        cardContainer.appendChild(cardEl);
      });
    }

    // Функция для редактирования карточки
    function editCard(index) {
      const card = cards[index];
      document.getElementById('name').value = card.name;
      document.getElementById('description').value = card.description;
      document.getElementById('image-url').value = card.imageUrl;
      document.getElementById('product-code').value = card.productCode;
      document.getElementById('provider').value = card.provider;
      cards.splice(index, 1);
      renderCards();
    }

    // Функция для удаления карточки
    function deleteCard(index) {
      cards.splice(index, 1);
      renderCards();
    }

    // Функция для очистки формы
    function clearForm() {
      document.getElementById('name').value = '';
      document.getElementById('description').value = '';
      document.getElementById('image-url').value = '';
      document.getElementById('product-code').value = '';
      document.getElementById('provider').value = '';
    }

    // Обновляем карточки при загрузке страницы
    window.addEventListener('load', () => {
      const savedCardsString = localStorage.getItem('cards');
      if (savedCardsString) {
        cards = JSON.parse(savedCardsString);
        renderCards();
      }
    });

    // Сохраняем карточки перед закрытием страницы
    window.addEventListener('beforeunload', () => {
      localStorage.setItem('cards', JSON.stringify(cards));
    });
  </script>
</div>
</body>
</html>